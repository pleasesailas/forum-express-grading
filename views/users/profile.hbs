<div class="container-md">
  <div class="card mb-5">
    <div class="card-body row">
      <div class="col-md-4">
        <img class="img-responsive center-block img-circle" src="{{user.image}}"
          style="width: 300px; height: 300px; margin-bottom: 25px; transition: opacity 0.5s; opacity:0;"
          onload="this.style.opacity=1;">
      </div>
      <div class="col-md-8">
        <p><strong>{{user.name}}</strong></p>
        <p>{{user.email}}</p>
        <ul class="list-unstyled list-inline">
          <li><strong>{{user.restaurantsComment.length}}</strong> 已評論餐廳</li>
          <li><strong>{{user.FavoritedRestaurants.length}}</strong> 收藏的餐廳</li>
          <li><strong>{{user.Followings.length}}</strong> followings (追蹤者)</li>
          <li><strong>{{user.Followers.length}}</strong> followers (追隨者)</li>
        </ul>
        <a class="btn btn-primary" href="/users/{{user.id}}/edit">Edit</a>
      </div>
    </div>
  </div>
{{!-- 追蹤者  --}}
  <div class="row">
    <div class="col-md-4">
      <div class="card mb-3">
        <div class="card-header">
          <strong>{{user.Followings.length}}</strong> followings (追蹤者)
        </div>
        <div class="card-body">
          {{#each user.Followings}}
          <a href="/users/{{this.id}}"> 
            {{#if this.image}}
            <img src="{{this.image}}" width="60" height="60" class="avatar" style="transition: opacity 0.5s; opacity:0;"
              onload="this.style.opacity=1;" />
            {{else}}
            <img src="https://via.placeholder.com/60" width="60" height="60" class="avatar"
              style="transition: opacity 0.5s; opacity:0;" onload="this.style.opacity=1;" />
            {{/if}}
          </a>
          {{/each}}
        </div>
      </div>
{{!-- 追隨者 --}}
      <div class="card">
        <div class="card-header">
          <strong>{{user.Followers.length}}</strong> followers (追隨者)
        </div>
        <div class="card-body">
          {{#each user.Followers}}
          <a href="/users/{{this.id}}">
            {{#if this.image}}
            <img src="{{this.image}}" width="60" height="60" class="avatar" style="transition: opacity 0.5s; opacity:0;"
              onload="this.style.opacity=1;" />
            {{else}}
            <img src="https://via.placeholder.com/60" width="60" height="60" class="avatar"
              style="transition: opacity 0.5s; opacity:0;" onload="this.style.opacity=1;" />
            {{/if}}
          </a>
          {{/each}}
        </div>
      </div>
    </div>

    <div class="col-md-8">
      <div class="card mb-3">
        <div class="card-header">
          <strong>{{user.restaurantsComment.length}}</strong> 已評論餐廳
        </div>
        <div class="card-body">
          {{#each user.restaurantsComment}}
          <a href="/restaurants/{{this.id}}" class="text-decoration-none">
            <img src={{this.image}} width="60" height="60" class="avatar" style="transition: opacity 0.5s; opacity:0;"
              onload="this.style.opacity=1;" />
          </a>
          {{/each}}
        </div>
      </div>

      <div class="card">
        <div class="card-header">
          <strong>{{user.FavoritedRestaurants.length}}</strong> 收藏的餐廳
        </div>
        <div class="card-body">
          {{#each user.FavoritedRestaurants}}
          <a href="/restaurants/{{this.id}}" >
            <img src={{this.image}} width="60" height="60" class="avatar" style="transition: opacity 0.5s; opacity:0;"
              onload="this.style.opacity=1;" />
          </a>
          {{/each}}
        </div>
      </div>
    </div>
  </div>
</div>